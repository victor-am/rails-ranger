<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RailsRanger.html">RailsRanger</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#edit">edit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#list">list</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#namespace">namespace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#new">new</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#patch">patch</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#post">post</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#put">put</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#resource">resource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#show">show</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RailsRanger.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RouteBuilder.html">RouteBuilder</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#edit">edit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#index">index</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#list">list</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#namespace">namespace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#new">new</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#patch">patch</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#post">post</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#put">put</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#resource">resource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#show">show</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RouteBuilder.html#update">update</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <a href="https://github.com/victor-am/rails-ranger" class="github-corner" aria-label="View source on Github">
      <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>

        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>

        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
      </svg>
    </a>

    <section class="readme">
        <article><h1>Rails Ranger</h1>
<h3>Exploring the routes and paths of Ruby on Rails APIs</h3>
<h4><a href="https://github.com/victor-am/rails-ranger">Github Repository</a> | <a href="https://victor-am.github.io/rails-ranger">Documentation</a></h4>
<p><a href="https://badge.fury.io/js/rails-ranger"><img src="https://badge.fury.io/js/rails-ranger.svg" alt="npm version"></a>
<a href="https://travis-ci.org/victor-am/rails-ranger"><img src="http://img.shields.io/travis/victor-am/rails-ranger.svg?style=flat" alt="Travis build status"></a>
<a href="https://codeclimate.com/github/victor-am/rails-ranger"><img src="https://codeclimate.com/github/victor-am/rails-ranger/badges/coverage.svg" alt="Test Coverage"></a>
<a href="https://david-dm.org/victor-am/rails-ranger"><img src="https://david-dm.org/victor-am/rails-ranger.svg" alt="Dependency Status"></a>
<a href="https://david-dm.org/victor-am/rails-ranger#info=devDependencies"><img src="https://david-dm.org/victor-am/rails-ranger/dev-status.svg" alt="devDependency Status"></a></p>
<p>Rails Ranger is a thin layer on top of <a href="https://github.com/mzabriskie/axios">Axios</a>, which gives you an opinionated interface to query APIs built with Ruby on Rails.</p>
<h2>Main features</h2>
<ul>
<li>URL building following Ruby on Rails routes conventions</li>
<li>Automatic transformation of camelCase into snake_case and back to camelCase when exchanging data between the front-end and the API</li>
</ul>
<h2>Installation</h2>
<pre class="prettyprint source lang-bash"><code>npm install --save rails-ranger
</code></pre>
<p><strong>or</strong></p>
<pre class="prettyprint source lang-bash"><code>yarn add rails-ranger
</code></pre>
<br>
<h2>Getting started</h2>
<p>If you prefer a blog post, checkout our <a href="https://alligator.io/js/rails-ranger/">getting started guide here</a>.</p>
<p>The following example illustrates a simple usage of the library:</p>
<pre class="prettyprint source lang-javascript"><code>// api-client.js
import RailsRanger from 'rails-ranger'

const config = {
  axios: {
    baseURL: 'http://api.myapp.com',
    headers: {
      'Content-Type': 'application/json',
      'Accept': 'application/json'
    }
  }
}

export default new RailsRanger(config)
</code></pre>
<pre class="prettyprint source lang-javascript"><code>// some-front-end-component.js
import api from 'api-client'

api.list('users').then((response) => {
  const users = response.data
})
</code></pre>
<p>The <code>list</code> function makes a request to the <strong>index</strong> path of the <strong>users</strong> resource, following Rails routing conventions. This means a <code>GET</code> request to the <code>/users</code> path.</p>
<p>Also we converted the <em>snake_cased</em> JSON generated by Ruby on Rails automatically to <em>camelCase</em>, as preferred in Javascript.</p>
<blockquote>
<p><strong>Observation:</strong> you can use <code>api.index('users')</code> as well. The <code>list</code> function is just an alias for it.
<br></p>
</blockquote>
<h3>Important notice for non api-only Ruby on Rails servers</h3>
<p>You must setup the headers correctly, passing down the content type and accept keys as <code>application/json</code> (as shown in the example above) for Rails to serve the endpoint in the json format instead of presuming the HTTP default.</p>
<h3>A slightly more advanced example:</h3>
<pre class="prettyprint source lang-javascript"><code>api.resource(users, 1).list('blogPosts', { someParameter: false })
// => GET request to /users/1/blog_posts?some_parameter=false
</code></pre>
<br>
<h3>Build your own client object</h3>
<p>You can build your own client object to centralize the API routes used by your front-end app.</p>
<p>This is indeed <strong>recommended</strong> for non-trivial applications, to avoid duplication, allow manipulating the parameters before performing the request and make your life easier in the event of removal/replacement of this dependency from your project.</p>
<p>Below is an example of such implementation:</p>
<pre class="prettyprint source lang-javascript"><code>// api-client.js
import RailsRanger from 'rails-ranger'

const client = new RailsRanger

export default {
  users: {
    list(params) {
      return client.list('users', params)
    }
  }

  blogPosts: {
    list(params) {
      return client.list('blogPosts', params)
    }
  }
}
</code></pre>
<pre class="prettyprint source lang-javascript"><code>// some-front-end-component.js
import api from 'api-client'

api.users.list({ limit: 3 }).then((response) => {
  const users = response.data
})
</code></pre>
<br>
<h2>Options</h2>
<p>As the first argument when creating a new instance of Rails Ranger you can pass an object of options to customize the behavior of the client.</p>
<h3>dataTransform</h3>
<p><strong>default: true</strong></p>
<p>By default RailsRanger will convert camelCased keys in your jsons to snake_case when sending a request to Rails, and will convert the Rails response back from snake_case to camelCase for better usage within your javascript code.</p>
<p>You can disable this behavior by setting <code>dataTransform</code> to false:</p>
<pre class="prettyprint source lang-javascript"><code>const api = new RailsRanger({ dataTransform: false })
</code></pre>
<hr>
<h3>axios</h3>
<p><strong>default: {}</strong></p>
<p>Any object passed to the <code>axios</code> option will be handled to <strong>Axios</strong>.
Here an example using the <code>baseUrl</code> configuration of Axios:</p>
<pre class="prettyprint source lang-javascript"><code>const api = new RailsRanger({ axios: { baseUrl: 'http://myapp.com/api/v1' } })

api.list('users')
// => GET request to http://myapp.com/api/users
</code></pre>
<h4>See more configuration options in the <a href="https://github.com/mzabriskie/axios#request-config">Axios documentation</a></h4>
<br>
<h2>Use Rails Ranger just for path building</h2>
<p>You don't need to use Rails Ranger as an ajax client if you don't want to. It can also be used just to generate the resource routes and then make the request with another tool. The following is an example of this usage:</p>
<pre class="prettyprint source lang-javascript"><code>import { RouteBuilder } from RailsRanger
const routes = new RouteBuilder

routes.create('users', { name: 'John' })
// => { path: '/users', params: { name: 'John' }, method: 'post' }

routes.show('users', { id: 1, hidePassword: true })
// => { path: '/users/1?hide_password=true', params: {}, method: 'get' }

routes.get('/:api/documentation', { api: 'v1', page: 3 })
// => { path: 'v1/documentation?page=3', params: {}, method: 'get' }
</code></pre>
<br>
<h2>Nested resources</h2>
<p>You can access your nested resources by using the <code>.resource</code> function:</p>
<pre class="prettyprint source lang-javascript"><code>api.resource('users').list('blogPosts')
//=> GET request to /users/blog_posts


api.resource('users', 1).list('blogPosts')
//=> GET request to /users/1/blog_posts
</code></pre>
<br>
<h2>Namespaced routes</h2>
<p>The <code>.namespace</code> function can help you to build a path nested within a Rails namespace:</p>
<pre class="prettyprint source lang-javascript"><code>api.namespace('users').list('blogPosts')
//=> GET request to /users/blog_posts


api.namespace('admin_roles/:type', { type: 1 }).list('blogPosts')
//=> GET request to /admin_roles/1/blog_posts
</code></pre>
<br>
<h2>Available actions</h2>
<h3>List/Index</h3>
<pre class="prettyprint source lang-javascript"><code>api.list('users', { limit: 3 })
// => GET request to /users?limit=3

api.index('users', { limit: 3 })
// => GET request to /users?limit=3
</code></pre>
<h3>Show</h3>
<pre class="prettyprint source lang-javascript"><code>api.show('users', { id: 1 })
// => GET request to /users/1
</code></pre>
<h3>New</h3>
<pre class="prettyprint source lang-javascript"><code>api.new('users')
// => GET request to /users/new
</code></pre>
<h3>Create</h3>
<pre class="prettyprint source lang-javascript"><code>api.create('users', { email: 'john@doe.com' })
// => POST request to /users
</code></pre>
<h3>Edit</h3>
<pre class="prettyprint source lang-javascript"><code>api.edit('users', { id: 1 })
// => GET request to /users/1/edit
</code></pre>
<h3>Update</h3>
<pre class="prettyprint source lang-javascript"><code>api.update('users', { id: 1, name: 'John Doe' })
// => PATCH request to /users/1
</code></pre>
<h3>Destroy</h3>
<pre class="prettyprint source lang-javascript"><code>api.destroy('users', { id: 1 })
// => DELETE request to /users/1
</code></pre>
<br>
<h2>Available HTTP methods</h2>
<h3>GET</h3>
<pre class="prettyprint source lang-javascript"><code>api.get('users/:id', { id: 1, hidePassword: true })
// => GET request to users/1&hide_password=true
</code></pre>
<h3>POST</h3>
<pre class="prettyprint source lang-javascript"><code>api.post('users/:id', { id: 1, name: 'John' })
// => POST request to users/1 with a JSON payload containing: { &quot;name&quot;: &quot;John&quot; }
</code></pre>
<h3>PATCH</h3>
<pre class="prettyprint source lang-javascript"><code>api.patch('users/:id', { id: 1, name: 'John' })
// => PATCH request to users/1 with a JSON payload containing: { &quot;name&quot;: &quot;John&quot; }
</code></pre>
<h3>PUT</h3>
<pre class="prettyprint source lang-javascript"><code>api.put('users/:id', { id: 1, name: 'John' })
// => PUT request to users/1 with a JSON payload containing: { &quot;name&quot;: &quot;John&quot; }
</code></pre>
<h3>DELETE</h3>
<pre class="prettyprint source lang-javascript"><code>api.delete('users/:id', { id: 1, hidePassword: true })
// => DELETE request to users/1&hide_password=true
</code></pre>
<br>
<h2>Request Cancellation</h2>
<p>Since rails-ranger is built on top of Axios, <a href="https://github.com/axios/axios#cancellation">request cancellation works the same way</a>.</p>
<pre class="prettyprint source lang-javascript"><code>import api from 'api-client'

import axios from 'axios';
const CancelToken = axios.CancelToken;
const source = CancelToken.source();

const request = api.get('/users/:id', {id: 1}, {cancelToken: source.token})
request.cancel = (optionalMessage) => source.cancel(optionalMessage);
</code></pre></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Mon Aug 09 2021 23:34:05 GMT+0300 (EEST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>